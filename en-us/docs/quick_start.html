<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="quick_start" />
	<meta name="description" content="quick_start" />
	<!-- 网页标签标题 -->
	<title>Quick Start</title>
	<link rel="shortcut icon" href="/img/kruise.ico"/>
	<link rel="stylesheet" href="/build/documentation.css" />
</head>
<body>
	<div id="root"><div class="documentation-page" data-reactroot=""><header class="header-container header-container-normal"><div class="header-body"><a href="/en-us/index.html"><img class="logo" src="/img/kruise_colorful.png"/></a><div class="search search-normal"><span class="icon-search"></span></div><span class="language-switch language-switch-normal">中</span><div class="header-menu"><img class="header-menu-toggle" src="/img/system/menu_gray.png"/><ul><li class="menu-item menu-item-normal"><a href="/en-us/index.html" target="_self">HOME</a></li><li class="menu-item menu-item-normal menu-item-normal-active"><a href="/en-us/docs/what_is_openkruise.html" target="_self">DOCS</a></li><li class="menu-item menu-item-normal"><a href="/en-us/blog/index.html" target="_self">BLOG</a></li></ul></div></div></header><div class="bar"><div class="bar-body"><img src="/img/system/docs.png" class="front-img"/><span>Documentation</span><img src="/img/system/docs.png" class="back-img"/></div></div><section class="content-section"><div class="sidemenu"><div class="sidemenu-toggle"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png"/></div><ul><li class="menu-item menu-item-level-1"><span></span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/what_is_openkruise.html" target="_self">What is OpenKruise</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/quick_start.html" target="_self">Quick Start</a></li></ul></li><li class="menu-item menu-item-level-1"><span>Basic</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/cloneset.html" target="_self">CloneSet</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/advanced_statefulset.html" target="_self">Advanced StatefulSet</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/sidecarset.html" target="_self">SidecarSet</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/uniteddeployment.html" target="_self">UnitedDeployment</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/broadcastjob.html" target="_self">BroadcastJob</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/advanced_daemonset.html" target="_self">Advanced DaemonSet</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/advancedcronjob.html" target="_self">AdvancedCronJob</a></li></ul></li><li class="menu-item menu-item-level-1"><span>Reference</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/components.html" target="_self">Components</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/go_client.html" target="_self">Golang Client</a></li></ul></li><li class="menu-item menu-item-level-1"><span>Contribution</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="https://github.com/openkruise/kruise/blob/master/CONTRIBUTING.md" target="_self">Guidebook</a></li></ul></li></ul></div><div class="doc-content markdown-body"><h1>Install OpenKruise</h1>
<p>Since v0.7.0:</p>
<p>OpenKruise only supports Kubernetes version &gt;= <code>1.13+</code> because of CRD conversion.
Note that for Kubernetes 1.13 and 1.14, users must enable <code>CustomResourceWebhookConversion</code> feature-gate in kube-apiserver before install or upgrade Kruise.</p>
<h2>Install with helm charts</h2>
<p>It is recommended that you should install Kruise with helm v3.1+, which is a simple command-line tool and you can get it from <a href="https://github.com/helm/helm/releases">here</a>.</p>
<pre><code class="language-bash"><span class="hljs-comment"># Kubernetes 1.13 and 1.14</span>
helm install kruise https://github.com/openkruise/kruise/releases/download/v0.7.0/kruise-chart.tgz --<span class="hljs-built_in">disable</span>-openapi-validation
<span class="hljs-comment"># Kubernetes 1.15 and newer versions</span>
helm install kruise https://github.com/openkruise/kruise/releases/download/v0.7.0/kruise-chart.tgz
</code></pre>
<p>you will see follow:</p>
<pre><code class="language-shell">NAME: kruise
LAST DEPLOYED: Mon Jun 15 20:00:05 2020
NAMESPACE: default
STATUS: deployed
REVISION: 1
TEST SUITE: None
</code></pre>
<p>Note that installing this chart directly means it will use the default template values for kruise-manager. You may have to set your specific configurations when it is deployed into a production cluster or you want to enable specific controllers.</p>
<h3>Optional: configure chart parameters</h3>
<p>Note that installing this chart directly means it will use the default template values for kruise-manager. You may have to set your specific configurations when it is deployed into a production cluster or you want to enable specific controllers.</p>
<p>The following table lists the configurable parameters of the chart and their default values.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>log.level</code></td>
<td>Log level that kruise-manager printed</td>
<td><code>4</code></td>
</tr>
<tr>
<td><code>revisionHistoryLimit</code></td>
<td>Limit of revision history</td>
<td><code>3</code></td>
</tr>
<tr>
<td><code>manager.replicas</code></td>
<td>Replicas of kruise-controller-manager deployment</td>
<td><code>2</code></td>
</tr>
<tr>
<td><code>manager.image.repository</code></td>
<td>Repository for kruise-manager image</td>
<td>openkruise/kruise-manager</td>
</tr>
<tr>
<td><code>manager.image.tag</code></td>
<td>Tag for kruise-manager image</td>
<td>v0.7.0</td>
</tr>
<tr>
<td><code>manager.resources.limits.cpu</code></td>
<td>CPU resource limit of kruise-manager container</td>
<td><code>100m</code></td>
</tr>
<tr>
<td><code>manager.resources.limits.memory</code></td>
<td>Memory resource limit of kruise-manager container</td>
<td><code>256Mi</code></td>
</tr>
<tr>
<td><code>manager.resources.requests.cpu</code></td>
<td>CPU resource request of kruise-manager container</td>
<td><code>100m</code></td>
</tr>
<tr>
<td><code>manager.resources.requests.memory</code></td>
<td>Memory resource request of kruise-manager container</td>
<td><code>256Mi</code></td>
</tr>
<tr>
<td><code>manager.metrics.addr</code></td>
<td>Addr of metrics served</td>
<td><code>localhost</code></td>
</tr>
<tr>
<td><code>manager.metrics.port</code></td>
<td>Port of metrics served</td>
<td><code>8080</code></td>
</tr>
<tr>
<td><code>manager.webhook.port</code></td>
<td>Port of webhook served</td>
<td><code>9443</code></td>
</tr>
<tr>
<td><code>manager.custom_resource_enable</code></td>
<td>Custom resources enabled by kruise-manager</td>
<td><code>&quot;&quot;(empty means all enabled)</code></td>
</tr>
<tr>
<td><code>spec.nodeAffinity</code></td>
<td>Node affinity policy for kruise-manager pod</td>
<td><code>{}</code></td>
</tr>
<tr>
<td><code>spec.nodeSelector</code></td>
<td>Node labels for kruise-manager pod</td>
<td><code>{}</code></td>
</tr>
<tr>
<td><code>spec.tolerations</code></td>
<td>Tolerations for kruise-manager pod</td>
<td><code>[]</code></td>
</tr>
<tr>
<td><code>webhookConfiguration.failurePolicy.pods</code></td>
<td>The failurePolicy for pods in mutating webhook configuration</td>
<td><code>Ignore</code></td>
</tr>
</tbody>
</table>
<p>Specify each parameter using the <code>--set key=value[,key=value]</code> argument to <code>helm install</code>.</p>
<h3>Optional: Enable specific controllers</h3>
<p>If you only need some of the Kruise controllers and want to disable others, you can use either one of the two options or both:</p>
<ol>
<li>Only install the CRDs you need.</li>
<li>Set env <code>CUSTOM_RESOURCE_ENABLE</code> in kruise-manager container for the resource names that you want to enable. This option can be applied by using helm chart:</li>
</ol>
<pre><code class="language-shell"><span class="hljs-meta">$</span><span class="bash"> helm install kruise https://github.com/openkruise/kruise/releases/download/v0.7.0/kruise-chart.tgz --<span class="hljs-built_in">set</span> manager.custom_resource_enable=<span class="hljs-string">"CloneSet\,SidecarSet"</span></span>
...
</code></pre>
<p>For example, <code>CUSTOM_RESOURCE_ENABLE=CloneSet,SidecarSet</code> means only CloneSet and SidecarSet controllers/webhooks are enabled, all other controllers/webhooks are disabled.</p>
<h2>Uninstall</h2>
<p>Note that this will lead to all resources created by Kruise, including webhook configurations, services, namespace, CRDs, CR instances and Pods managed by Kruise controller, to be deleted! Please do this ONLY when you fully understand the consequence.</p>
<p>To uninstall kruise if it is installed with helm charts:</p>
<pre><code class="language-shell"><span class="hljs-meta">$</span><span class="bash"> helm uninstall kruise</span>
release "kruise" uninstalled
</code></pre>
</div></section><footer class="footer-container"><div class="footer-body"><img src="/img/kruise_gray.png"/><div class="cols-container"><div class="col col-12"><h3>Disclaimer</h3><p>OpenKruise is an open-source project under Apache License 2.0.</p></div><div class="col col-6"><dl><dt>Documentation</dt><dd><a href="/en-us/docs/what_is_openkruise.html" target="_self">What is OpenKruise</a></dd><dd><a href="/en-us/docs/components.html" target="_self">Components</a></dd><dd><a href="https://github.com/openkruise/kruise/blob/master/CONTRIBUTING.md" target="_self">Contribution</a></dd></dl></div><div class="col col-6"><dl><dt>Resources</dt></dl></div></div><div class="copyright"><span>Copyright © 2019 The OpenKruise Authors, The Kubernetes Authors</span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script>
		window.rootPath = '';
  </script>
	<script src="/build/documentation.js"></script>
</body>
</html>